<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulação</title>
    <link rel="stylesheet" href="style.css">
    <script>
        async function iniciarSimulacao() {
            try {
                const response = await fetch('/simular');
                const data = await response.json();
                const resultados = document.getElementById('resultados');

                resultados.innerHTML = "<h2>Resultados da Simulação</h2>";
                data.estados.forEach(estado => {
                    resultados.innerHTML += `
                        <p><strong>Estado:</strong> ${estado.nome}</p>
                        <p><strong>População:</strong> ${estado.populacao}</p>
                        <p><strong>Recursos:</strong> ${estado.recursos.join(", ")}</p>
                        <hr>
                    `;
                });

                data.municipios.forEach(municipio => {
                    resultados.innerHTML += `
                        <p><strong>Município:</strong> ${municipio.nome}</p>
                        <p><strong>População:</strong> ${municipio.populacao}</p>
                        <p><strong>Economia:</strong> ${municipio.economia}</p>
                        <hr>
                    `;
                });
            } catch (error) {
                console.error("Erro ao iniciar a simulação:", error);
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>Simulação de Estados e Municípios</h1>
        <p>Clique no botão abaixo para iniciar a simulação.</p>
        <button onclick="iniciarSimulacao()">Iniciar Simulação</button>
        <div id="resultados"></div>
    </div>
</body>
</html>
